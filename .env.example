# =====================================================
# FeastFrenzy Environment Configuration
# =====================================================
# Copy this file to .env and fill in your values
# For production: use docker-compose.prod.yml
# For development: use docker-compose.yml
# =====================================================

# -----------------------------------------------------
# Application Settings
# -----------------------------------------------------
APP_VERSION=1.0.0
NODE_ENV=development

# -----------------------------------------------------
# Database Configuration
# -----------------------------------------------------
# Root password for MySQL setup (required)
DB_ROOT_PASSWORD=rootpassword

# Application database credentials
DB_NAME=feastfrenzy
DB_USER=feastfrenzy
DB_PASSWORD=feastfrenzy123

# Database port (optional, default: 3306)
DB_PORT=3306

# Connection pool settings (production)
DB_POOL_MAX=20
DB_POOL_MIN=5

# -----------------------------------------------------
# Redis Configuration
# -----------------------------------------------------
REDIS_PORT=6379

# Redis password (REQUIRED for production!)
REDIS_PASSWORD=

# Cache settings
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300

# -----------------------------------------------------
# JWT Authentication
# -----------------------------------------------------
# IMPORTANT: Change these in production!
# Minimum 32 characters for security
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long
JWT_EXPIRES_IN=15m

JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-at-least-32-chars
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------
# Security Settings
# -----------------------------------------------------
BCRYPT_ROUNDS=12

# Rate limiting (15 minutes window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Account lockout
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_TIME=15

# -----------------------------------------------------
# Backend Configuration
# -----------------------------------------------------
BACKEND_PORT=3000
LOG_LEVEL=debug

# Feature flags
ENABLE_SWAGGER=true
ENABLE_RATE_LIMITING=true
ENABLE_HELMET=true

# Graceful shutdown timeout (ms)
SHUTDOWN_TIMEOUT=30000

# -----------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------
FRONTEND_PORT=4200

# API URL for frontend build
API_URL=http://localhost:3000/api/v1

# -----------------------------------------------------
# Nginx / Proxy Configuration
# -----------------------------------------------------
HTTP_PORT=80
HTTPS_PORT=443

# CORS origin (must match frontend URL)
CORS_ORIGIN=http://localhost:4200

# -----------------------------------------------------
# Monitoring (Optional)
# -----------------------------------------------------
ENABLE_METRICS=true
METRICS_PORT=3001

# Prometheus/Grafana
GRAFANA_PASSWORD=admin

# External monitoring
SENTRY_DSN=
SLACK_WEBHOOK_URL=

# -----------------------------------------------------
# Email Configuration (Optional)
# -----------------------------------------------------
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@feastfrenzy.com

# -----------------------------------------------------
# Build Metadata (CI/CD)
# -----------------------------------------------------
BUILD_DATE=
VCS_REF=

# =====================================================
# PRODUCTION CHECKLIST
# =====================================================
# Before deploying to production, ensure:
# [ ] DB_ROOT_PASSWORD is strong and unique
# [ ] DB_PASSWORD is strong and unique
# [ ] REDIS_PASSWORD is set
# [ ] JWT_SECRET is random 64+ characters
# [ ] JWT_REFRESH_SECRET is random 64+ characters
# [ ] CORS_ORIGIN matches your domain
# [ ] ENABLE_SWAGGER=false
# [ ] LOG_LEVEL=info or warn
# [ ] SSL certificates are configured
# [ ] All default passwords are changed
# =====================================================
